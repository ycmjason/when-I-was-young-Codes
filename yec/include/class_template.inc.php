<?phpclass template{	public $tp_name;	public $tp_var;	public function __construct($tp_name,$tp_var){		$this->tp_name=$tp_name;		$this->tp_var=$tp_var;	}	public function genHTML($admin=0){		$_=$this->setupVAR($this->tp_var);		if($admin==1){			require_once("./template/admin_header.htm");		}else{			require_once("./template/header.htm");		}		for($i=0;$i<count($_['systemmsg']);$i++){			require("./template/systemmsg.htm");		}		for($i=0;$i<count($_['systemerror']);$i++){			require("./template/systemerror.htm");		}		require_once("./template/".$this->tp_name.".htm");		if($admin==1){			require_once("./template/admin_footer.htm");		}else{			require_once("./template/footer.htm");		}	}	public function require_subtemplate($tp,$_){		require_once("./template/".$tp.".htm");	}	private function setupVAR($tp_var){		for($i=0;$tp_var['css'][$i]!=NULL;$i++){			$css.="<link rel=\"stylesheet\" href=\"./include/css/".$tp_var['css'][$i].".css\" type=\"text/css\" />";		}		if(count($tp_var['systemmsg'])>0){			$css.="<link rel=\"stylesheet\" href=\"./include/css/systemmsg.css\" type=\"text/css\" />";		}		if(count($tp_var['systemerror'])>0){			$css.="<link rel=\"stylesheet\" href=\"./include/css/systemerror.css\" type=\"text/css\" />";		}		$tp_var['css']=$css;		for($i=0;$tp_var['js_head'][$i]!=NULL;$i++){			$js.="<script type=\"text/javascript\" src=\"./include/js/".$tp_var['js_head'][$i].".js\"></script>";		}		$tp_var['js_head']=$js;		for($i=0;$tp_var['js_body'][$i]!=NULL;$i++){			$js.="<script type=\"text/javascript\" src=\"./include/js/body_".$tp_var['js_body'][$i].".js\"></script>";		}		$tp_var['js_body']=$js;		return $tp_var;	}}?>